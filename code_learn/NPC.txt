----说明：玩家接近NPC后，Npc头顶的感叹号消失并且开始讲话----

----可调节参数----


----逻辑----
local Npc = script.Parent
local Chatting = false

Npc.OnCollisionBegin:Connect(function(HitObject)	--Npc被触碰后触发

	if HitObject:IsA('PlayerInstance') and Chatting == false then	--判断是否碰撞玩家，对话是否正在进行
		Chatting = true	--标识正在对话，防止重复触发
		Npc.SurfaceGUI.Mission.Visible = false	--感叹号消失
		Npc.SurfaceGUI.Figure.Visible = true	--显示对话框
		
		for n = 1,5 do
			local CurrentText = 'Text'..n	--遍历Text1 ~ Text5
			local LastText = 'Text'..(n-1)	--找到上一条Text
			Npc.SurfaceGUI.Figure[CurrentText].Visible = true
				
			if n > 1 then	--从第二条Text开始，每次展示新信息时，隐藏前一条信息
				Npc.SurfaceGUI.Figure[LastText].Visible = false
			end
			
			if n == 4 then
				wait(3)	--第四条信息比较长，所以等待久一些
			else 
				wait(1.7)	--其他每条信息之间的间隔
			end
		end
		
		Npc.SurfaceGUI.Mission.Visible = true
		Npc.SurfaceGUI.Figure.Text5.Visible = false	--把for循环里漏掉的最后一条text隐藏，以便玩家重复触发聊天
		Npc.SurfaceGUI.Figure.Visible = false
		Chatting = false	--标识对话结束，可重新触发
	end

end)









